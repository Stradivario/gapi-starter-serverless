{"dependencies":[{"name":"/home/rampage/Desktop/work/repos/private/gapi-starter-serverless/tsconfig.json","includedInParent":true,"mtime":1530575932039},{"name":"/home/rampage/Desktop/work/repos/private/gapi-starter-serverless/package.json","includedInParent":true,"mtime":1530577925491}],"generated":{"js":"\"use strict\";var e,t=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,c=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,i);else for(var u=e.length-1;u>=0;u--)(n=e[u])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},r=this&&this.__metadata||function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(exports,\"__esModule\",{value:!0});const n=require(\"@rxdi/core\"),o=i(require(\"boom\")),c=require(\"@gapi/auth\");let u=class{constructor(e){this.authService=e}onSubOperation(e,t,r){return t}onSubConnection(e){if(e.token)return this.validateToken(e.token,\"Subscription\");throw o.unauthorized()}validateToken(e,t=\"Query\"){const r=this.authService.verifyToken(e);if(r.type=r.scope[0],console.log(`${t} from: ${JSON.stringify(r)}`),r)return r;throw o.unauthorized()}signJWTtoken(e){return this.authService.sign(e)}issueJWTToken(e){return this.authService.sign({email:\"\",id:1,scope:[\"ADMIN\",\"USER\"]})}verifyToken(e){return this.authService.verifyToken(e)}decryptPassword(e){return this.authService.decrypt(e)}encryptPassword(e){return this.authService.encrypt(e)}};u=t([n.Service(),r(\"design:paramtypes\",[\"function\"==typeof(e=void 0!==c.AuthInternalService&&c.AuthInternalService)&&e||Object])],u),exports.AuthService=u;","map":{"mappings":[{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":0}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":13}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":17}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":19}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":21}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":27}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":32}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":44}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":53}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":55}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":57}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":59}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":62}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":66}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":68}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":70}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":80}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":87}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":89}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":91}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":93}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":95}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":102}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":104}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":106}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":113}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":138}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":140}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":143}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":145}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":148}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":165}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":174}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":193}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":201}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":210}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":212}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":220}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":229}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":231}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":233}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":235}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":243}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":247}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":251}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":253}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":255}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":262}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":264}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":267}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":269}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":274}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":276}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":278}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":284}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":287}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":289}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":291}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":293}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":296}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":298}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":300}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":302}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":304}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":306}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":309}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":311}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":313}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":318}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":321}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":328}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":330}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":333}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":336}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":343}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":358}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":360}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":362}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":365}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":368}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":370}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":376}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":381}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":393}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":402}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":404}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":407}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":410}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":427}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":436}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":455}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":463}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":472}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":479}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":487}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":496}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":498}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":502}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":504}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":510}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":515}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":529}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":538}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":541}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":544}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":547}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":549}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":560}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":567}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":569}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":573}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":578}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":581}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":587}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":589}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":593}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":597}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":602}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":604}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":611}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":626}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":631}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":633}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":638}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":640}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":643}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":645}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":649}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":656}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":658}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":666}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":668}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":671}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":678}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":693}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":701}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":715}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":722}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":726}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":732}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":734}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":742}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":756}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":758}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":760}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":768}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":777}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":779}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":787}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":801}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":805}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":16,"column":16},"generated":{"line":1,"column":813}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":16,"column":16},"generated":{"line":1,"column":825}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":16,"column":16},"generated":{"line":1,"column":828}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":16,"column":16},"generated":{"line":1,"column":833}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":16,"column":16},"generated":{"line":1,"column":845}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":19,"column":19},"generated":{"line":1,"column":847}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":19,"column":19},"generated":{"line":1,"column":862}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":19,"column":28},"generated":{"line":1,"column":864}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":19,"column":36},"generated":{"line":1,"column":866}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":20,"column":15},"generated":{"line":1,"column":869}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":20,"column":15},"generated":{"line":1,"column":876}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":23,"column":20},"generated":{"line":1,"column":878}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":23,"column":20},"generated":{"line":1,"column":894}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":24,"column":12},"generated":{"line":1,"column":897}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":24,"column":12},"generated":{"line":1,"column":900}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":24,"column":29},"generated":{"line":1,"column":902}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":25,"column":19},"generated":{"line":1,"column":908}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":25,"column":19},"generated":{"line":1,"column":915}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":25,"column":24},"generated":{"line":1,"column":920}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":25,"column":38},"generated":{"line":1,"column":934}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":25,"column":55},"generated":{"line":1,"column":936}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":25,"column":62},"generated":{"line":1,"column":942}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":27,"column":18},"generated":{"line":1,"column":958}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":27,"column":18},"generated":{"line":1,"column":964}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":27,"column":23},"generated":{"line":1,"column":966}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":31,"column":18},"generated":{"line":1,"column":981}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":31,"column":18},"generated":{"line":1,"column":995}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":31,"column":33},"generated":{"line":1,"column":997}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":31,"column":73},"generated":{"line":1,"column":999}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":32,"column":14},"generated":{"line":1,"column":1008}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":32,"column":14},"generated":{"line":1,"column":1014}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":32,"column":26},"generated":{"line":1,"column":1016}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":32,"column":31},"generated":{"line":1,"column":1021}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":32,"column":43},"generated":{"line":1,"column":1033}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":32,"column":55},"generated":{"line":1,"column":1045}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":35,"column":12},"generated":{"line":1,"column":1048}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":1,"column":1051}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":1,"column":1053}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":33,"column":20},"generated":{"line":1,"column":1058}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":33,"column":25},"generated":{"line":1,"column":1060}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":33,"column":31},"generated":{"line":1,"column":1066}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":34,"column":16},"generated":{"line":1,"column":1069}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":34,"column":16},"generated":{"line":1,"column":1077}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":34,"column":23},"generated":{"line":1,"column":1084}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":34,"column":44},"generated":{"line":1,"column":1095}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":34,"column":49},"generated":{"line":1,"column":1100}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":34,"column":59},"generated":{"line":1,"column":1110}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":35,"column":12},"generated":{"line":1,"column":1116}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":36,"column":19},"generated":{"line":1,"column":1118}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":36,"column":19},"generated":{"line":1,"column":1125}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":38,"column":18},"generated":{"line":1,"column":1127}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":38,"column":18},"generated":{"line":1,"column":1133}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":38,"column":23},"generated":{"line":1,"column":1135}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":42,"column":17},"generated":{"line":1,"column":1150}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":42,"column":17},"generated":{"line":1,"column":1163}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":43,"column":15},"generated":{"line":1,"column":1166}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":43,"column":15},"generated":{"line":1,"column":1173}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":43,"column":20},"generated":{"line":1,"column":1178}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":43,"column":32},"generated":{"line":1,"column":1190}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":43,"column":37},"generated":{"line":1,"column":1195}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":46,"column":18},"generated":{"line":1,"column":1198}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":46,"column":18},"generated":{"line":1,"column":1212}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":52,"column":15},"generated":{"line":1,"column":1215}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":47,"column":25},"generated":{"line":1,"column":1222}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":47,"column":30},"generated":{"line":1,"column":1227}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":47,"column":42},"generated":{"line":1,"column":1239}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":48,"column":19},"generated":{"line":1,"column":1245}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":48,"column":19},"generated":{"line":1,"column":1251}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":49,"column":16},"generated":{"line":1,"column":1254}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":49,"column":16},"generated":{"line":1,"column":1257}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":50,"column":19},"generated":{"line":1,"column":1259}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":50,"column":20},"generated":{"line":1,"column":1266}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":50,"column":29},"generated":{"line":1,"column":1274}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":55,"column":16},"generated":{"line":1,"column":1284}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":55,"column":16},"generated":{"line":1,"column":1296}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":56,"column":15},"generated":{"line":1,"column":1299}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":56,"column":15},"generated":{"line":1,"column":1306}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":1,"column":1311}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":56,"column":32},"generated":{"line":1,"column":1323}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":56,"column":44},"generated":{"line":1,"column":1335}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":59,"column":20},"generated":{"line":1,"column":1338}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":59,"column":20},"generated":{"line":1,"column":1354}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":60,"column":15},"generated":{"line":1,"column":1357}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":60,"column":15},"generated":{"line":1,"column":1364}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":60,"column":20},"generated":{"line":1,"column":1369}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":60,"column":32},"generated":{"line":1,"column":1381}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":60,"column":40},"generated":{"line":1,"column":1389}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":63,"column":20},"generated":{"line":1,"column":1392}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":63,"column":20},"generated":{"line":1,"column":1408}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":1411}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":1418}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":64,"column":20},"generated":{"line":1,"column":1423}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":64,"column":32},"generated":{"line":1,"column":1435}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":64,"column":40},"generated":{"line":1,"column":1443}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":1448}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":24},"generated":{"line":1,"column":1450}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":12,"column":1},"generated":{"line":1,"column":1453}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":12,"column":1},"generated":{"line":1,"column":1455}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":16,"column":29},"generated":{"line":1,"column":1465}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":16,"column":29},"generated":{"line":1,"column":1467}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":16,"column":48},"generated":{"line":1,"column":1488}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":16,"column":29},"generated":{"line":1,"column":1507}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":16,"column":48},"generated":{"line":1,"column":1514}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":16,"column":29},"generated":{"line":1,"column":1518}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":16,"column":29},"generated":{"line":1,"column":1520}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":16,"column":29},"generated":{"line":1,"column":1541}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":16,"column":29},"generated":{"line":1,"column":1543}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":16,"column":48},"generated":{"line":1,"column":1565}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":16,"column":48},"generated":{"line":1,"column":1568}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":1578}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":1581}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":1589}},{"source":"../core/services/auth/auth.service.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":1601}}],"sources":{"../core/services/auth/auth.service.ts":"\nimport { Service } from '@rxdi/core';\nimport * as Boom from 'boom';\nimport { AuthInterface, AuthInternalService, TokenData } from '@gapi/auth';\n\nexport interface UserInfo {\n    scope: ['ADMIN', 'USER'];\n    type: 'ADMIN' | 'USER';\n    iat: number;\n}\n\n@Service()\nexport class AuthService implements AuthInterface {\n\n    constructor(\n        private authService: AuthInternalService\n    ) { }\n\n    onSubOperation(message, params, webSocket) {\n        return params;\n    }\n\n    onSubConnection(connectionParams): TokenData {\n        if (connectionParams.token) {\n            return this.validateToken(connectionParams.token, 'Subscription');\n        } else {\n            throw Boom.unauthorized();\n        }\n    }\n\n    validateToken(token: string, requestType: 'Query' | 'Subscription' = 'Query'): any {\n        const user = <any>this.authService.verifyToken(token);\n        user.type = user.scope[0];\n        console.log(`${requestType} from: ${JSON.stringify(user)}`);\n        if (user) {\n            return user;\n        } else {\n            throw Boom.unauthorized();\n        }\n    }\n\n    signJWTtoken(tokenData: TokenData): string {\n        return this.authService.sign(tokenData);\n    }\n\n    issueJWTToken(tokenData: TokenData) {\n        const jwtToken = this.authService.sign({\n            email: '',\n            id: 1,\n            scope: ['ADMIN', 'USER']\n        });\n        return jwtToken;\n    }\n\n    verifyToken(token: string): TokenData {\n        return this.authService.verifyToken(token);\n    }\n\n    decryptPassword(password: string): string {\n        return this.authService.decrypt(password);\n    }\n\n    encryptPassword(password: string): string {\n        return this.authService.encrypt(password);\n    }\n\n}\n"},"lineCount":null}},"hash":"ce77145e4460989486f3e44c3990d6db","cacheData":{"env":{}},"id":10}